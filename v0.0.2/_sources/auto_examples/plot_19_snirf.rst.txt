
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/plot_19_snirf.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_examples_plot_19_snirf.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_plot_19_snirf.py:


.. _tut-fnirs-snirf:

SNIRF Support in MNE
====================

.. sidebar:: .nirs files

   If you wish to process your .nirs files in MNE use the official snirf
   converter to create .snirf file.
   See https://github.com/fNIRS/snirf_homer3

SNIRF is a file format for storing NIRS data. The specification is maintained
by the society for functional near infrared spectroscopy. In this tutorial
we demonstrate how to convert your MNE data to SNIRF and also how to read
SNIRF files.

Read the SNIRF protocol over at https://github.com/fNIRS/snirf

.. contents:: Page contents
   :local:
   :depth: 2

.. GENERATED FROM PYTHON SOURCE LINES 25-40

.. code-block:: default



    # Authors: Robert Luke <mail@robertluke.net>
    #
    # License: BSD (3-clause)

    import os
    import mne

    from mne.io import read_raw_nirx, read_raw_snirf
    from mne_nirs.io import write_raw_snirf
    from numpy.testing import assert_allclose










.. GENERATED FROM PYTHON SOURCE LINES 41-45

Import raw NIRS data from vendor
--------------------------------

First we import some example data recorded with a NIRX device.

.. GENERATED FROM PYTHON SOURCE LINES 45-52

.. code-block:: default



    fnirs_data_folder = mne.datasets.fnirs_motor.data_path()
    fnirs_raw_dir = os.path.join(fnirs_data_folder, 'Participant-1')
    raw_intensity = read_raw_nirx(fnirs_raw_dir).load_data()






.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Loading /home/runner/mne_data/MNE-fNIRS-motor-data/Participant-1
    Reading 0 ... 23238  =      0.000 ...  2974.464 secs...




.. GENERATED FROM PYTHON SOURCE LINES 53-57

Write data as SNIRF
-------------------

Now we can write this data back to disk in the SNIRF format.

.. GENERATED FROM PYTHON SOURCE LINES 57-61

.. code-block:: default


    write_raw_snirf(raw_intensity, 'test_raw.snirf')









.. GENERATED FROM PYTHON SOURCE LINES 62-66

Read back SNIRF file
--------------------

Next we can read back the snirf file.

.. GENERATED FROM PYTHON SOURCE LINES 66-70

.. code-block:: default


    snirf_intensity = read_raw_snirf('test_raw.snirf')






.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Loading test_raw.snirf




.. GENERATED FROM PYTHON SOURCE LINES 71-76

Compare files
-------------

Finally we can compare the data of the original to the SNIRF format and
ensure that the values are the same.

.. GENERATED FROM PYTHON SOURCE LINES 76-80

.. code-block:: default


    assert_allclose(raw_intensity.get_data(), snirf_intensity.get_data())

    snirf_intensity.plot(n_channels=30, duration=300, show_scrollbars=False)



.. image:: /auto_examples/images/sphx_glr_plot_19_snirf_001.png
    :alt: plot 19 snirf
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none


    <Figure size 640x480 with 4 Axes>




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  3.011 seconds)

**Estimated memory usage:**  65 MB


.. _sphx_glr_download_auto_examples_plot_19_snirf.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_19_snirf.py <plot_19_snirf.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_19_snirf.ipynb <plot_19_snirf.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
